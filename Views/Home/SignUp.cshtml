@model ASP_SPD111.Models.Lesson4.SignupViewModel
@{
    ViewData["Title"] = "Реєстрація";
}

<h1 class="display-4">Реєстрація нового користувача</h1>

<form method="post" enctype="multipart/form-data" asp-action="SignupForm">
    <div class="row">
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text" id="login-addon"><i class="bi bi-person-down"></i></span>
                @if(Model.FormValidation?.LoginErrorMessage == null && Model.FormStatus == false)
                {
                    <input type="text" class="form-control is-valid"
                           placeholder="Логін" aria-label="Логін"
                           name="signup-login"
                           aria-describedby="login-addon"
                    value="@Model.FormModel?.Login">
                    <div class="valid-feedback">
                        Приймається!
                    </div>
                }
                else if (Model.FormValidation?.LoginErrorMessage != null && Model.FormStatus == false)
                {
                    <input type="text" class="form-control is-invalid"
                           placeholder="Логін" aria-label="Логін"
                           name="signup-login"
                           aria-describedby="login-addon"
                           value="@Model.FormModel?.Login">

                    <div class="invalid-feedback">
                        @Model.FormValidation.LoginErrorMessage
                    </div>
                }
                else
                {
                    <input type="text" class="form-control"
                           placeholder="Логін" aria-label="Логін"
                           name="signup-login"
                           aria-describedby="login-addon"
                           value="@Model.FormModel?.Login">
                }
            </div>
        </div>
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text" id="name-addon"><i class="bi bi-person-badge"></i></span>
                @if (Model.FormValidation?.NameErrorMessage == null && Model.FormStatus == false)
                {
                    <input type="text" class="form-control is-valid"
                           placeholder="ПІБ" aria-label="ПІБ"
                           name="signup-name"
                           aria-describedby="name-addon"
                           value="@Model.FormModel?.Name">
                    <div class="valid-feedback">
                        Приймається!
                    </div>
                }
                else if (Model.FormValidation?.NameErrorMessage != null && Model.FormStatus == false)
                {
                    <input type="text" class="form-control is-invalid"
                           placeholder="ПІБ" aria-label="ПІБ"
                           name="signup-name"
                           aria-describedby="name-addon"
                           value="@Model.FormModel?.Name">
                    <div class="invalid-feedback">
                        @Model.FormValidation?.NameErrorMessage
                    </div>
                }
                else
                {
                    <input type="text" class="form-control"
                           placeholder="ПІБ" aria-label="ПІБ"
                           name="signup-name"
                           aria-describedby="name-addon">
                }
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text" id="email-addon"><i class="bi bi-envelope-at"></i></span>
                @if(Model.FormStatus == false && Model.FormValidation?.EmailErrorMessage == null)
                {
                    <input type="text" class="form-control is-valid"
                           placeholder="Е-пошта" aria-label="Е-пошта"
                           name="signup-email"
                           aria-describedby="email-addon"
                           value="@Model.FormModel?.Email">
                    <div class="valid-feedback">
                        Приймається!
                    </div>
                }
                else if(Model.FormStatus == false && Model.FormValidation?.EmailErrorMessage != null)
                {
                    <input type="text" class="form-control is-invalid"
                           placeholder="Е-пошта" aria-label="Е-пошта"
                           name="signup-email"
                           aria-describedby="email-addon"
                           value="@Model.FormModel?.Email">
                    <div class="invalid-feedback">
                        @Model.FormValidation.EmailErrorMessage
                    </div>
                }
                else
                {
                    <input type="text" class="form-control"
                           placeholder="Е-пошта" aria-label="Е-пошта"
                           name="signup-email"
                           aria-describedby="email-addon"
                           >
                }
            </div>
        </div>
        <div class="col">
            <div class="input-group mb-3">
                <label class="input-group-text"
                       for="inputGroupFile01"><i class="bi bi-person-circle"></i></label>
                @if(Model.FormStatus == false && Model.FormValidation?.AvatarErrorMessage != null)
                {
                    <input type="file" class="form-control is-invalid"
                           placeholder="Аватар" aria-label="Аватар"
                           name="signup-avatar"
                           id="avatar-input"
                           >
                    <div class="invalid-feedback">
                        @Model.FormValidation?.AvatarErrorMessage
                    </div>
                }
                else
                {
                    <input type="file" class="form-control"
                           placeholder="Аватар" aria-label="Аватар"
                           name="signup-avatar"
                           id="avatar-input">
                }
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text" id="password-addon"><i class="bi bi-pass"></i></span>
                @if(Model.FormStatus == false && Model.FormValidation?.PasswordErrorMessage != null)
                {
                    <input type="password" class="form-control is-invalid"
                           placeholder="Пароль" aria-label="Пароль"
                           name="signup-password"
                           aria-describedby="password-addon"
                           >
                    <div class="invalid-feedback">
                        @Model.FormValidation.PasswordErrorMessage
                    </div>
                }
                else
                {
                    <input type="password" class="form-control"
                           placeholder="Пароль" aria-label="Пароль"
                           name="signup-password"
                           aria-describedby="password-addon">
                }
            </div>
        </div>
        <div class="col">
            <div class="input-group mb-3">
                <span class="input-group-text" id="repeat-addon"><i class="bi bi-pass-fill"></i></span>
                @if(Model.FormStatus == false && Model.FormValidation?.RepeatErrorMessage != null)
                {
                    <input type="password" class="form-control is-invalid"
                           placeholder="Пароль" aria-label="Пароль"
                           name="signup-repeat"
                           aria-describedby="repeat-addon">
                    <div class="invalid-feedback">
                        @Model.FormValidation.RepeatErrorMessage
                    </div>
                }
                else
                {
                    <input type="password" class="form-control"
                           placeholder="Пароль" aria-label="Пароль"
                           name="signup-repeat"
                           aria-describedby="repeat-addon">
                }
            </div>
        </div>
    </div>

    <div class="row justify-content-end">
        <div class="col-3">
            <button type="submit" class="btn btn-success">Реєстрація</button>
        </div>

    </div>
</form>

<br/><br/>

@if(Model.FormStatus == true)
{
    <div class="alert alert-success" role="alert">
        Реєстрація пройшла успішно! 
    </div>
}
@if (Model.FormStatus == false)
{
    <div class="alert alert-danger" role="alert">
        Виникли помилки реєстрації!

    </div>
}